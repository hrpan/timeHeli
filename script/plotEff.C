/*
site               range      N_Li      E_Li  N_Li_Tag  E_Li_Tag      eff.  eff. err      R_mu  R_mu err
   1  3.00e+03  5.00e+04   2939.90  10125.82   5154.15    304.19      1.75      6.04 6.367e-03 1.456e-05
   1  5.00e+04  1.00e+05   9117.13   9232.73    470.25    271.49      0.05      0.06 5.962e-03 1.306e-05
   1  1.00e+05  1.50e+05   7405.26  11508.28   1037.88    318.73      0.14      0.22 6.940e-03 1.694e-05
   1  1.50e+05  2.00e+05  15914.66   2036.15   1598.87    234.65      0.10      0.02 1.558e-03 1.823e-06
   1  2.00e+05  2.50e+05   2772.84    705.28   1729.91    139.84      0.62      0.17 2.904e-04 8.295e-07
   1  2.50e+05  3.00e+05    986.31    429.05   1343.97    112.89      1.36      0.60 1.119e-04 1.053e-06
   1  3.00e+05 -1.00e+00  14835.11    519.06  13400.17    279.48      0.90      0.04 1.453e-04 9.701e-07
   2  3.00e+03  5.00e+04   2446.74   6102.56   3893.09    239.15      1.59      3.97 4.509e-03 8.502e-06
   2  5.00e+04  1.00e+05  -3657.77   5134.42    271.46    205.23     -0.07     -0.12 3.935e-03 6.832e-06
   2  1.00e+05  1.50e+05  13962.01   6628.17    999.19    241.38      0.07      0.04 4.791e-03 9.442e-06
   2  1.50e+05  2.00e+05   7766.78   2535.63    959.03    211.46      0.12      0.05 2.063e-03 2.685e-06
   2  2.00e+05  2.50e+05   2284.35    726.51   1019.62    148.49      0.45      0.16 3.286e-04 8.506e-07
   2  2.50e+05  3.00e+05   1320.85    421.44   1066.33    108.08      0.81      0.27 1.137e-04 1.075e-06
   2  3.00e+05 -1.00e+00  12565.22    494.26  11074.91    248.96      0.88      0.04 1.405e-04 1.009e-06
   3  3.00e+03  5.00e+04   1479.03    380.60   1555.41     52.41      1.05      0.27 3.067e-04 1.583e-06
   3  5.00e+04  1.00e+05   -538.91    358.45    101.83     50.15     -0.19     -0.16 2.835e-04 1.591e-06
   3  1.00e+05  1.50e+05    466.94    392.97    115.85     31.94      0.25      0.22 3.305e-04 1.572e-06
   3  1.50e+05  2.00e+05    659.89    217.83    177.47     29.33      0.27      0.10 1.035e-04 2.069e-06
   3  2.00e+05  2.50e+05    396.87    104.76    216.25     29.59      0.54      0.16 2.282e-05 4.479e-06
   3  2.50e+05  3.00e+05    400.72     57.62    191.87     26.22      0.48      0.09 1.430e-06 1.626e-07
   3  3.00e+05 -1.00e+00   3786.73    336.36   3629.72     75.68      0.96      0.09 1.294e-05 3.188e-05
*/

double eff_7[3][7][2] = {
	{
		{ 1.75,      6.04 },
		{ 0.05,      0.06 },
		{ 0.14,      0.22 },
		{ 0.10,      0.02 },
		{ 0.62,      0.17 },
		{ 1.36,      0.60 },
		{ 0.90,      0.04 },
	},
	{
		{ 1.59,      3.97 },
		{-0.07,     -0.12 },
		{ 0.07,      0.04 },
		{ 0.12,      0.05 },
		{ 0.45,      0.16 },
		{ 0.81,      0.27 },
		{ 0.88,      0.04 },
	},
	{
		{ 1.05,      0.27 },
		{-0.19,     -0.16 },
		{ 0.25,      0.22 },
		{ 0.27,      0.10 },
		{ 0.54,      0.16 },
		{ 0.48,      0.09 },
		{ 0.96,      0.09 },
	}

};

/*
site   range      N_Li      E_Li  N_Li_Tag  E_Li_Tag      eff.  eff. err      R_mu  R_mu err
   1       0  11978.35  64971.35   6393.03    518.18      0.53      2.90 1.923e-02 1.159e-04
   1       1  21193.27   2495.19   4594.71    314.64      0.22      0.03 1.954e-03 2.427e-06
   1       2  14836.32    519.06  13400.36    277.74      0.90      0.04 1.453e-04 9.701e-07
   2       0  35105.03  32413.88   5130.61    395.40      0.15      0.14 1.315e-02 5.893e-05
   2       1  11252.94   3083.02   3021.92    283.12      0.27      0.08 2.502e-03 3.516e-06
   2       2  12567.32    494.26  11074.92    251.99      0.88      0.04 1.405e-04 1.009e-06
   3       0   1073.30    711.16   1789.28     68.61      1.67      1.11 9.173e-04 2.093e-06
   3       1   1471.47    250.51    589.96     45.63      0.40      0.07 1.339e-04 1.898e-06
   3       2   3786.70    292.86   3629.83     75.68      0.96      0.08 1.294e-05 2.734e-05
*/

double eff_3[3][3][2] = {
	{
		{0.53,      2.90 },
		{0.22,      0.03 },
		{0.90,      0.04 }
	},
	{ 
		{0.15,      0.14 },
		{0.27,      0.08 },
		{0.88,      0.04 }
	},
	{
		{1.67,      1.11 },
		{0.40,      0.07 },
		{0.96,      0.08 }

	}

};
/*
site               range      N_Li      E_Li  N_Li_Tag  E_Li_Tag      eff.  eff. err      R_mu  R_mu err
   1  3.00e+03  1.00e+05   4735.43  29082.10   5520.36    407.36      1.17      7.16 1.231e-02 4.843e-05
   1  1.00e+05  2.00e+05  23619.23  15785.22   2689.14    395.81      0.11      0.08 8.496e-03 2.452e-05
   1  2.00e+05  3.00e+05   3753.70    837.86   3049.63    215.54      0.81      0.19 4.011e-04 8.222e-07
   1  3.00e+05  4.00e+05   2294.45    378.55   2246.76    129.34      0.98      0.17 8.406e-05 1.161e-06
   1  4.00e+05 -1.00e+00  12407.57    352.31  11136.95    234.10      0.90      0.03 5.933e-05 1.342e-06
   2  3.00e+03  1.00e+05   8440.77  14953.37   4141.35    313.81      0.49      0.87 8.402e-03 2.469e-05
   2  1.00e+05  2.00e+05 -12713.48  10970.26   2002.47    320.74     -0.16     -0.14 6.911e-03 1.715e-05
   2  2.00e+05  3.00e+05   3727.89    853.86   2083.88    188.14      0.56      0.14 4.419e-04 8.571e-07
   2  3.00e+05  4.00e+05   2866.13    364.89   1844.75    111.69      0.64      0.09 8.080e-05 1.210e-06
   2  4.00e+05 -1.00e+00   9668.80    331.02   9197.23    211.03      0.95      0.04 5.758e-05 1.405e-06
   3  3.00e+03  1.00e+05    868.70    540.71   1670.42     60.36      1.92      1.20 5.879e-04 1.680e-06
   3  1.00e+05  2.00e+05   1362.79    456.26    303.33     43.47      0.22      0.08 4.318e-04 1.582e-06
   3  2.00e+05  3.00e+05    802.43    123.76    408.18     39.84      0.51      0.09 2.897e-05 3.624e-06
   3  3.00e+05  4.00e+05    448.98     65.45    452.87     33.29      1.01      0.16 9.740e-06 7.453e-06
   3  4.00e+05 -1.00e+00   3338.70     75.43   3178.25     81.23      0.95      0.03 4.928e-07 3.460e-07
*/

double eff_5[3][5][2] = {
	{
		{  1.17,      7.16 },
		{  0.11,      0.08 },
		{  0.81,      0.19 },
		{  0.98,      0.17 },
		{  0.90,      0.03 }
	},
	{
		{  0.49,      0.87 },
		{ -0.16,     -0.14 },
		{  0.56,      0.14 },
		{  0.64,      0.09 },
		{  0.95,      0.04 }
	},
	{
		{  1.92,      1.20 },
		{  0.22,      0.08 },
		{  0.51,      0.09 },
		{  1.01,      0.16 },
		{  0.95,      0.03 }
	}

};


double range_3[3] = {3e3,1.5e5,3e5};
double range_5[5] = {
	3.0e3,1.0e5,2.0e5,
	3.0e5,4.0e5
};
double range_7[7] = {
	3.0e3, 0.5e5, 1.0e5,
	1.5e5, 2.0e5, 2.5e5,
	3.0e5
};


void plotEff(){
	TFile *f_out = new TFile("eff.root","RECREATE");
	TGraphErrors *g_3[3];
	TGraphErrors *g_5[3];
	TGraphErrors *g_7[3];

	for(int i=0;i<3;++i){
		g_3[i] = new TGraphErrors(3);
		g_5[i] = new TGraphErrors(5);
		g_7[i] = new TGraphErrors(7);
		for(int j=0;j<3;++j){
			g_3[i]->SetPoint(j,range_3[j],eff_3[i][j][0]);
			g_3[i]->SetPointError(j,0,eff_3[i][j][1]);
		}
		for(int j=0;j<5;++j){
			g_5[i]->SetPoint(j,range_5[j],eff_5[i][j][0]);
			g_5[i]->SetPointError(j,0,eff_5[i][j][1]);
		}

		for(int j=0;j<7;++j){
			g_7[i]->SetPoint(j,range_7[j],eff_7[i][j][0]);
			g_7[i]->SetPointError(j,0,eff_7[i][j][1]);
		}
		char buf[255];
		sprintf(buf,"eff_3_%d",i);
		g_3[i]->SetMarkerColor(kRed);
		g_3[i]->SetMarkerSize(1);
		g_3[i]->SetMarkerStyle(21);
		g_3[i]->Write(buf);
		g_3[i]->GetXaxis()->SetLimits(0,5e5);
	    g_3[i]->GetHistogram()->SetMaximum(1.5);   // along          
	    g_3[i]->GetHistogram()->SetMinimum(-.5);  //   Y   
		sprintf(buf,"eff_5_%d",i);
		g_5[i]->SetMarkerColor(kBlue);
		g_5[i]->SetMarkerSize(1);
		g_5[i]->SetMarkerStyle(21);
		g_5[i]->Write(buf);
		sprintf(buf,"eff_7_%d",i);
		g_7[i]->SetMarkerColor(kGreen);
		g_7[i]->SetMarkerSize(1);
		g_7[i]->SetMarkerStyle(21);
		g_7[i]->Write(buf);
		g_3[i]->Draw("ALP");
		g_5[i]->Draw("same LP");
		g_7[i]->Draw("same LP");
		sprintf(buf,"./plots/eff_%d.png",i);
		c1->SaveAs(buf);
	}
	f_out->Close();
}
